# ============================================================
# 斐波那契数列计算程序
# 计算斐波那契数列直到值超过 100
# ============================================================

.section .text.init
.globl _start

# -------------------- 初始化 --------------------
_start:
    addi x1, x0, 1          # x1 = 1 (F1)
    addi x2, x0, 1          # x2 = 1 (F2)
    addi x3, x0, 1          # x3 = 1 (临时变量)
    addi x10, x0, 100       # x10 = 100 (循环终止条件)

# -------------------- 循环体 --------------------
loop:
    add  x3, x1, x2         # x3 = x1 + x2 (计算下一个斐波那契数)
    addi x1, x2, 0          # x1 = x2 (等价于 mv x1, x2)
    addi x2, x3, 0          # x2 = x3 (等价于 mv x2, x3)
    bltu x3, x10, loop      # 如果 x3 < 100，跳转回 loop

# -------------------- 程序结束 --------------------
end:
    addi x3, x0, 999        # x3 = 999 (程序结束标志)

